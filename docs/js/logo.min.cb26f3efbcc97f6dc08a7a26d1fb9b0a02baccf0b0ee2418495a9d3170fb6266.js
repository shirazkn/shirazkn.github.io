const DT=25,CLIP_DISTANCE=DT*DT,K_OVER_M=25e-5,C_OVER_M=.05,MAX_SPEED=10;let targetX,targetY,posX,posY,velX,velY,keyframeX=1,keyframeY=1,centreX,centreY,hasPointerInput=!1,useGyroscope=!1,isSecureContext=window.isSecureContext,blackGradient,darkpinkGradient,pinkGradient,blackPath,pinkPath,svgRotator;function setVisualCentre(){centreX=window.innerWidth/2,centreY=window.innerHeight/2}function saturate(e,t){return Math.min(e<0?-e:e,t)*Math.sign(e)}function accelerateTowards(e,t){const n=e-posX,s=t-posY;n*n+s*s<CLIP_DISTANCE?(posX=e,posY=t,velX=0,velY=0):(velX=saturate(velX+(-C_OVER_M*velX+K_OVER_M*n)*DT,MAX_SPEED),velY=saturate(velY+(-C_OVER_M*velY+K_OVER_M*s)*DT,MAX_SPEED),posX+=velX*DT,posY+=velY*DT)}function getKeyframedValue(e,t,n){return e+(n-1)*t}function isTouchPrimary(){return window.matchMedia("(pointer: coarse)").matches}let gyroPermissionRequested=!1;function initGyroscope(){if(!isTouchPrimary())return;if(!isSecureContext)return;if(!("DeviceOrientationEvent"in window))return;if(typeof DeviceOrientationEvent.requestPermission=="function"){const e=e=>{if(gyroPermissionRequested)return;gyroPermissionRequested=!0,DeviceOrientationEvent.requestPermission().then(e=>{e==="granted"&&enableGyroscope()}).catch(e=>{gyroPermissionRequested=!1})};window.addEventListener("touchstart",e,{once:!0}),window.addEventListener("touchend",e,{once:!0}),window.addEventListener("click",e,{once:!0})}else enableGyroscope()}function enableGyroscope(){window.addEventListener("deviceorientation",handleOrientation,{passive:!0})}function handleOrientation(e){const t=e.beta,n=e.gamma;if(t===null||n===null)return;useGyroscope=!0;const s=Math.max(-30,Math.min(30,n)),o=Math.max(-30,Math.min(30,t-45));targetX=centreX+s/30*centreX*1.5,targetY=centreY+o/30*centreY*1.2}function initScrollTracking(){let t=window.scrollY||0,e=0,n,s=!1;function o(){s=!0;const i=window.scrollY||document.documentElement.scrollTop,c=i-t;e=e*.6+c*.4;const o=isTouchPrimary()?80:50,l=Math.max(-o,Math.min(o,e)),a=l/o,r=isTouchPrimary()?2.5:1;targetX=centreX-a*centreX*.5*r,targetY=centreY+a*centreY*r,t=i,clearTimeout(n),n=setTimeout(()=>{s=!1,e=0,!hasPointerInput&&!useGyroscope&&(targetX=centreX,targetY=centreY)},200)}window.addEventListener("scroll",o,{passive:!0})}function initPointerTracking(){const e=document.getElementById("logo-s");if(isTouchPrimary()){let e,t,n,s;document.addEventListener("touchstart",o=>{const i=o.touches[0];e=i.clientX,t=i.clientY,n=posX,s=posY,hasPointerInput=!0},{passive:!0}),document.addEventListener("touchmove",o=>{if(!hasPointerInput||useGyroscope)return;const i=o.touches[0],a=i.clientX-e,r=i.clientY-t;targetX=n+a*3,targetY=s+r*3},{passive:!0}),document.addEventListener("touchend",()=>{hasPointerInput=!1,useGyroscope||(targetX=centreX,targetY=centreY)},{passive:!0})}isTouchPrimary()||(document.documentElement.addEventListener("mousemove",e=>{hasPointerInput=!0,targetX=e.clientX,targetY=e.clientY},{passive:!0}),document.documentElement.addEventListener("mouseleave",()=>{hasPointerInput=!1,targetX=centreX,targetY=centreY}))}function init(){setVisualCentre(),posX=centreX,posY=centreY,targetX=centreX,targetY=centreY,velX=0,velY=0,blackGradient=document.getElementById("black-gradient"),darkpinkGradient=document.getElementById("darkpink-gradient"),pinkGradient=document.getElementById("pink-gradient"),blackPath=document.getElementById("black-path"),pinkPath=document.getElementById("pink-path"),svgRotator=document.getElementById("svg-rotator");const e=document.getElementById("logo-s");e&&(e.style.opacity=0,e.style.transition="opacity 0.7s ease",requestAnimationFrame(()=>{e.style.opacity=1})),initPointerTracking(),initScrollTracking(),initGyroscope(),blackGradient&&svgRotator&&requestAnimationFrame(animate)}let lastTime=0;function animate(e){if(e-lastTime<DT){requestAnimationFrame(animate);return}lastTime=e,accelerateTowards(targetX,targetY),keyframeX=posX/centreX,keyframeY=posY/centreY;const s=isTouchPrimary()?1.8:1.2,t=(keyframeX-1)*s+1,n=(keyframeY-1)*s+1;blackGradient.setAttribute("cx",getKeyframedValue(.6,-.1,t)),blackGradient.setAttribute("cy",getKeyframedValue(.6,-.2,n)),darkpinkGradient.setAttribute("cx",getKeyframedValue(.6,-.1,t)),darkpinkGradient.setAttribute("cy",getKeyframedValue(.4,-.2,n)),pinkGradient.setAttribute("x1",getKeyframedValue(10,10,t)+"%"),pinkGradient.setAttribute("y1",getKeyframedValue(100,-5,t)+"%"),pinkGradient.setAttribute("x2",getKeyframedValue(100,5,t)+"%"),pinkGradient.setAttribute("y2",getKeyframedValue(0,-5,t)+"%");const o=getKeyframedValue(0,-8,t)+"deg",i=getKeyframedValue(0,7.5,n)+"deg",a=getKeyframedValue(0,.5,t)+"%",r=getKeyframedValue(0,.5,n)+"%";svgRotator.style.transform=`rotateX(${i}) rotateY(${o}) translateX(${a}) translateY(${r})`,blackPath.setAttribute("d",`M1034,366c35.5-54.894,62.83-131.321,34-185-42.55-79.227-252.733-142.207-517.087-23C269,285.116,${getKeyframedValue(206,-20,t)},${getKeyframedValue(475,0,n)},${getKeyframedValue(299,-15,t)},${getKeyframedValue(544,-5,n)}c82.946,66.043,364.329,145.659,${getKeyframedValue(663,-7,t)},${getKeyframedValue(283,-15,n)},291.081,131.651,351.751,263.87,377.721,323.73,25.19,58.08,15.73,210.66${getKeyframedValue(-251,15,t)},${getKeyframedValue(244,10,n)}-281.67,35.34-428.145-31.29-568.769-91.36C380.3,1242.5,135.822,1068.23,200.539,937.684c22.031-44.44,162.2-78.073,162.2-78.073S-6.819,747.32,22.271,597.628C-8.014,706.162-5.483,791,${getKeyframedValue(46,0,t)},${getKeyframedValue(917,-10,n)}c107.977,261.668,401.817,401.038,539.353,452.9,144.976,54.68,363.9,72.5,${getKeyframedValue(566,-15,t)},${getKeyframedValue(52,-10,n)},181.07-17.84,280.68-156.89,${getKeyframedValue(265,-5,t)},${getKeyframedValue(-246,-10,n)}-14.67-86.23-155.94-285.966${getKeyframedValue(-482,-5,t)}${getKeyframedValue(-417,10,n)}-338.391-137.644-513.57${getKeyframedValue(-240,10,n)}${getKeyframedValue(-552,10,t)},${getKeyframedValue(-285,20,n)}-37-43.08-85.188-130.385,159.836-262.9C773.258,87.064,902.781,136.941,968.4,177.612c74.975,46.471,36.675,132.184-14.524,184.764C951.191,361.005,1007.52,406.869,1034,366ZM856.987,381.907`),pinkPath.setAttribute("d",`M920.588,705.98A54.237,54.237,0,0,1,914,712c-68.941,54-99.809,76.651-132.779,99.385C634.878,915.185,499.363,994.707,476,1030c-28.209,42.61-106.167,144.21,129.6,261.4C263.32,1128.82,369.312,985.81,457.289,928.863c95-61.489,116.511-42.622,375.256-232.986,278.105-204.6,395.345-396.479,375.6-492.215-13.26-64.248-26.78-166.524-214.247-193.184C1111.79,26.143,1208.58,58.147,1242.6,154,1286.54,277.791,1215.4,465.893,920.588,705.98Zm73.305-695.5Q984.039,9.168,974,8,984.268,9.1,993.893,10.478Zm49.277,343.71C1000.81,422.852,929.154,494.2,851.246,558.347a1242.69,1242.69,0,0,1-136.46,101.785C678.145,684.989,643.068,706.965,612,725q-10.55,6.124-20.336,11.327C367.933,870.63,190.273,946.409,60,837,10.866,791.141-9.5,730.015,16.832,617.288,10.135,808.95,317.468,785.519,463,719q29.888-13.66,58.881-28.2C623.955,637.205,753,552.521,854.058,463.538,860.041,458.1,866.022,452.605,872,447c36.433-34.16,67.221-66.947,91.847-97.613C1000.33,301.726,1021.65,256.166,1019,217,1008.54,62.388,731,102,731,102s96.054-19,183-4C1079.18,126.489,1123.42,205.462,1043.17,354.188ZM1591,603m77,385`),requestAnimationFrame(animate)}window.addEventListener("load",init),window.addEventListener("resize",setVisualCentre)